# ç®¡ç†åå°å®Œå–„è¯´æ˜

## æ›´æ–°æ—¶é—´
2026-01-26

## å·²å®Œæˆçš„æ”¹è¿›

### 1. ä¿®å¤ç™»å½•è·³è½¬é—®é¢˜ âœ…
- ä¿®å¤äº†æ•°æ®æ ¼å¼ä¸åŒ¹é…å¯¼è‡´çš„tokenè®¾ç½®å¤±è´¥
- ä¼˜åŒ–é”™è¯¯å¤„ç†ï¼Œç¡®ä¿ç™»å½•æµç¨‹çš„ç¨³å®šæ€§
- æ·»åŠ è¯¦ç»†çš„è°ƒè¯•æ—¥å¿—
- ç›¸å…³æ–‡ä»¶ï¼š
  - `frontend/src/stores/user.js`
  - `frontend/src/views/login/index.vue`
  - `frontend/src/utils/request.js`

### 2. ä¿®å¤Dashboardæ•°æ®æ ¼å¼é—®é¢˜ âœ…
- ä¿®å¤åç«¯snake_caseåˆ°å‰ç«¯camelCaseçš„æ•°æ®æ ¼å¼è½¬æ¢
- ç¡®ä¿ç»Ÿè®¡æ•°æ®æ˜¾ç¤ºæ­£ç¡®
- ç›¸å…³æ–‡ä»¶ï¼š
  - `frontend/src/views/dashboard/index.vue`

### 3. åˆ›å»ºç»Ÿä¸€çš„APIç®¡ç† âœ…
- åˆ›å»ºäº†`api/statistics.js` - ç»Ÿè®¡æ•°æ®æ¥å£
- åˆ›å»ºäº†`api/admin.js` - ç”¨æˆ·ã€è§’è‰²ã€æƒé™ç®¡ç†æ¥å£
- åˆ›å»ºäº†`api/business.js` - è®¢å•ã€å’¨è¯¢å¸ˆã€èŠå¤©ã€ä½ä»£ç æ¥å£
- åˆ›å»ºäº†`api/finance.js` - è´¢åŠ¡ç®¡ç†æ¥å£
- ä¼˜åŠ¿ï¼š
  - é›†ä¸­ç®¡ç†æ‰€æœ‰APIæ¥å£
  - ä¾¿äºç»´æŠ¤å’Œä¿®æ”¹
  - å‡å°‘é‡å¤ä»£ç 
  - ç»Ÿä¸€çš„é”™è¯¯å¤„ç†

### 4. ä¿®å¤Linterè­¦å‘Š âœ…
- ä¿®å¤äº†`router/index.js`ä¸­æœªä½¿ç”¨çš„`from`å˜é‡
- æå‡ä»£ç è´¨é‡

## å½“å‰åŠŸèƒ½çŠ¶æ€

### âœ… å·²å®Œæˆçš„åŠŸèƒ½

#### ç³»ç»Ÿç®¡ç†
- **ç”¨æˆ·ç®¡ç†**: æŸ¥çœ‹ã€åˆ›å»ºã€ç¼–è¾‘ã€åˆ é™¤ç”¨æˆ·
- **è§’è‰²ç®¡ç†**: è§’è‰²çš„å¢åˆ æ”¹æŸ¥
- **æƒé™ç®¡ç†**: æƒé™çš„å¢åˆ æ”¹æŸ¥
- **èœå•ç®¡ç†**: èœå•çš„å¢åˆ æ”¹æŸ¥
- **å’¨è¯¢å¸ˆç®¡ç†**: å’¨è¯¢å¸ˆä¿¡æ¯ç®¡ç†

#### ä¸šåŠ¡ç®¡ç†
- **è®¢å•ç®¡ç†**: è®¢å•åˆ—è¡¨ã€çŠ¶æ€æ›´æ–°
- **èŠå¤©è®°å½•**: ä¼šè¯ç®¡ç†ã€æ¶ˆæ¯æŸ¥çœ‹ã€æ¶ˆæ¯æœç´¢
- **ä½ä»£ç å¹³å°**: è¡¨å•è®¾è®¡ã€é¡µé¢è®¾è®¡ã€æ•°æ®ç®¡ç†

#### è´¢åŠ¡ç®¡ç†
- **æç°å®¡æ ¸**: å¾…å®¡æ ¸æç°åˆ—è¡¨ã€å®¡æ ¸æ“ä½œ
- **è´¢åŠ¡ç»Ÿè®¡**: è¥æ”¶ç»Ÿè®¡ã€è´¢åŠ¡æŠ¥è¡¨
- **æ•°æ®çœ‹æ¿**: å®æ—¶æ•°æ®å±•ç¤º

#### ä¸ªäººä¸­å¿ƒ
- **ä¸ªäººä¿¡æ¯**: æŸ¥çœ‹ã€ç¼–è¾‘ä¸ªäººèµ„æ–™
- **ä¿®æ”¹å¯†ç **: å¯†ç ä¿®æ”¹åŠŸèƒ½
- **å¤´åƒä¸Šä¼ **: å¤´åƒæ›´æ–°åŠŸèƒ½

### ğŸ”„ éƒ¨åˆ†å®Œæˆçš„åŠŸèƒ½

#### Dashboard
- âœ… ç»Ÿè®¡å¡ç‰‡å±•ç¤º
- âœ… è®¢å•è¶‹åŠ¿å›¾è¡¨
- âœ… è®¢å•çŠ¶æ€å›¾è¡¨
- âœ… è¥æ”¶è¶‹åŠ¿å›¾è¡¨
- âœ… å’¨è¯¢å¸ˆæ’å
- âš ï¸ éƒ¨åˆ†å›¾è¡¨æ•°æ®å¯èƒ½éœ€è¦åç«¯å®Œå–„

## å¾…ä¼˜åŒ–çš„åŠŸèƒ½

### 1. å›¾è¡¨åŠŸèƒ½ä¼˜åŒ–
- [ ] å®Œå–„å›¾è¡¨æ•°æ®çš„å®æ—¶æ›´æ–°
- [ ] æ·»åŠ å›¾è¡¨å¯¼å‡ºåŠŸèƒ½
- [ ] ä¼˜åŒ–å›¾è¡¨å“åº”å¼å¸ƒå±€

### 2. è¡¨å•åŠŸèƒ½å¢å¼º
- [ ] æ·»åŠ æ‰¹é‡æ“ä½œåŠŸèƒ½
- [ ] æ·»åŠ é«˜çº§ç­›é€‰åŠŸèƒ½
- [ ] ä¼˜åŒ–è¡¨æ ¼æ€§èƒ½ï¼ˆå¤§æ•°æ®é‡ï¼‰

### 3. ç”¨æˆ·ä½“éªŒä¼˜åŒ–
- [ ] æ·»åŠ åŠ è½½éª¨æ¶å±
- [ ] ä¼˜åŒ–é”™è¯¯æç¤º
- [ ] æ·»åŠ æ“ä½œç¡®è®¤æç¤º
- [ ] å®Œå–„ç©ºçŠ¶æ€å±•ç¤º

### 4. æ€§èƒ½ä¼˜åŒ–
- [ ] è·¯ç”±æ‡’åŠ è½½ä¼˜åŒ–
- [ ] ç»„ä»¶æŒ‰éœ€åŠ è½½
- [ ] å›¾ç‰‡æ‡’åŠ è½½
- [ ] è¯·æ±‚é˜²æŠ–èŠ‚æµ

## APIæ¥å£è¯´æ˜

### è®¤è¯æ¥å£
```
POST /api/admin/login       - ç®¡ç†å‘˜ç™»å½•
POST /api/admin/logout      - é€€å‡ºç™»å½•
GET  /api/admin/user/info   - è·å–ç”¨æˆ·ä¿¡æ¯
GET  /api/admin/user/permissions - è·å–æƒé™
```

### ç»Ÿè®¡æ¥å£
```
GET /api/admin/statistics           - è·å–ç»Ÿè®¡æ•°æ®
GET /api/admin/stats/order         - è®¢å•ç»Ÿè®¡
GET /api/admin/stats/counselor/ranking - å’¨è¯¢å¸ˆæ’å
GET /api/admin/session/stats       - ä¼šè¯ç»Ÿè®¡
GET /api/admin/online/users        - åœ¨çº¿ç”¨æˆ·
```

### ç”¨æˆ·ç®¡ç†æ¥å£
```
GET    /api/admin/users          - ç”¨æˆ·åˆ—è¡¨
POST   /api/admin/users          - åˆ›å»ºç”¨æˆ·
PUT    /api/admin/users/:id      - æ›´æ–°ç”¨æˆ·
DELETE /api/admin/users/:id      - åˆ é™¤ç”¨æˆ·
POST   /api/admin/users/:id/password - é‡ç½®å¯†ç 
```

### è§’è‰²æƒé™æ¥å£
```
GET    /api/admin/roles           - è§’è‰²åˆ—è¡¨
POST   /api/admin/roles           - åˆ›å»ºè§’è‰²
PUT    /api/admin/roles/:id       - æ›´æ–°è§’è‰²
DELETE /api/admin/roles/:id       - åˆ é™¤è§’è‰²
GET    /api/admin/roles/:id/permissions - è§’è‰²æƒé™
PUT    /api/admin/roles/:id/permissions - åˆ†é…æƒé™
```

### ä¸šåŠ¡æ¥å£
```
GET /api/admin/orders             - è®¢å•åˆ—è¡¨
PUT /api/admin/orders/:id/status  - æ›´æ–°è®¢å•çŠ¶æ€
GET /api/admin/counselors         - å’¨è¯¢å¸ˆåˆ—è¡¨
GET /api/admin/chat/sessions      - èŠå¤©ä¼šè¯
GET /api/admin/chat/messages/search - æ¶ˆæ¯æœç´¢
```

### è´¢åŠ¡æ¥å£
```
GET /api/admin/withdraws/pending - å¾…å®¡æ ¸æç°
POST /api/admin/withdraw/:id/approve - å®¡æ ¸æç°
GET /api/admin/finance/stats     - è´¢åŠ¡ç»Ÿè®¡
GET /api/admin/finance/revenue   - è¥æ”¶æŠ¥è¡¨
```

## æ–‡ä»¶ç»“æ„

```
admin/
â”œâ”€â”€ backend/                    # åç«¯æœåŠ¡
â”‚   â”œâ”€â”€ main.go
â”‚   â”œâ”€â”€ handlers/              # è¯·æ±‚å¤„ç†å™¨
â”‚   â”œâ”€â”€ models/                # æ•°æ®æ¨¡å‹
â”‚   â”œâ”€â”€ middleware/            # ä¸­é—´ä»¶
â”‚   â”œâ”€â”€ utils/                 # å·¥å…·å‡½æ•°
â”‚   â””â”€â”€ database/              # æ•°æ®åº“é…ç½®
â”œâ”€â”€ frontend/                  # å‰ç«¯æœåŠ¡
â”‚   â”œâ”€â”€ src/
â”‚   â”‚   â”œâ”€â”€ api/               # APIæ¥å£ âœ¨æ–°å¢
â”‚   â”‚   â”‚   â”œâ”€â”€ user.js
â”‚   â”‚   â”‚   â”œâ”€â”€ admin.js       âœ¨æ–°å¢
â”‚   â”‚   â”‚   â”œâ”€â”€ business.js    âœ¨æ–°å¢
â”‚   â”‚   â”‚   â”œâ”€â”€ finance.js     âœ¨æ–°å¢
â”‚   â”‚   â”‚   â””â”€â”€ statistics.js  âœ¨æ–°å¢
â”‚   â”‚   â”œâ”€â”€ views/             # é¡µé¢ç»„ä»¶
â”‚   â”‚   â”‚   â”œâ”€â”€ dashboard/     # æ•°æ®çœ‹æ¿
â”‚   â”‚   â”‚   â”œâ”€â”€ login/         # ç™»å½•é¡µ
â”‚   â”‚   â”‚   â”œâ”€â”€ profile/       # ä¸ªäººä¸­å¿ƒ
â”‚   â”‚   â”‚   â”œâ”€â”€ system/        # ç³»ç»Ÿç®¡ç†
â”‚   â”‚   â”‚   â”œâ”€â”€ business/      # ä¸šåŠ¡ç®¡ç†
â”‚   â”‚   â”‚   â”œâ”€â”€ finance/       # è´¢åŠ¡ç®¡ç†
â”‚   â”‚   â”‚   â””â”€â”€ lowcode/       # ä½ä»£ç å¹³å°
â”‚   â”‚   â”œâ”€â”€ components/        # å…¬å…±ç»„ä»¶
â”‚   â”‚   â”œâ”€â”€ stores/            # çŠ¶æ€ç®¡ç†
â”‚   â”‚   â”œâ”€â”€ router/            # è·¯ç”±é…ç½®
â”‚   â”‚   â””â”€â”€ utils/             # å·¥å…·å‡½æ•°
â”‚   â”œâ”€â”€ vite.config.js
â”‚   â””â”€â”€ package.json
â”œâ”€â”€ start.bat                  # Windowså¯åŠ¨è„šæœ¬
â”œâ”€â”€ start.sh                   # Linux/Macå¯åŠ¨è„šæœ¬
â””â”€â”€ README.md                  # é¡¹ç›®è¯´æ˜
```

## ä½¿ç”¨è¯´æ˜

### å¯åŠ¨æœåŠ¡

#### æ–¹å¼1: ä½¿ç”¨å¯åŠ¨è„šæœ¬ï¼ˆæ¨èï¼‰
```bash
# Windows
cd admin
start.bat

# Linux/Mac
cd admin
./start.sh
```

#### æ–¹å¼2: åˆ†åˆ«å¯åŠ¨
```bash
# å¯åŠ¨åç«¯
cd admin/backend
go run main.go

# å¯åŠ¨å‰ç«¯
cd admin/frontend
npm run dev
```

### è®¿é—®åœ°å€
- å‰ç«¯: http://localhost:3000
- åç«¯: http://localhost:8081
- Swaggeræ–‡æ¡£: http://localhost:8081/swagger/index.html

### é»˜è®¤è´¦å·
- ç”¨æˆ·å: `admin`
- å¯†ç : `admin123`

## æŠ€æœ¯æ ˆ

### åç«¯
- **æ¡†æ¶**: Gin
- **æ•°æ®åº“**: MySQL + GORM
- **è®¤è¯**: JWT
- **æ–‡æ¡£**: Swagger

### å‰ç«¯
- **æ¡†æ¶**: Vue 3
- **æ„å»ºå·¥å…·**: Vite
- **UIç»„ä»¶**: Element Plus
- **çŠ¶æ€ç®¡ç†**: Pinia
- **è·¯ç”±**: Vue Router
- **HTTPå®¢æˆ·ç«¯**: Axios
- **å›¾è¡¨**: ECharts

## æ³¨æ„äº‹é¡¹

1. **ç¯å¢ƒé…ç½®**
   - ç¡®ä¿`.env`æ–‡ä»¶é…ç½®æ­£ç¡®
   - æ•°æ®åº“è¿æ¥é…ç½®æ­£ç¡®
   - Redisè¿æ¥é…ç½®ï¼ˆå¯é€‰ï¼‰

2. **ä¾èµ–å®‰è£…**
   ```bash
   # åç«¯ä¾èµ–
   cd admin/backend
   go mod tidy

   # å‰ç«¯ä¾èµ–
   cd admin/frontend
   npm install
   ```

3. **å¼€å‘å»ºè®®**
   - ä½¿ç”¨Chromeæµè§ˆå™¨å¼€å‘è€…å·¥å…·è¿›è¡Œè°ƒè¯•
   - æŸ¥çœ‹æ§åˆ¶å°æ—¥å¿—äº†è§£è¯¦ç»†é”™è¯¯ä¿¡æ¯
   - ä½¿ç”¨Postmanæµ‹è¯•APIæ¥å£

4. **ä»£ç è§„èŒƒ**
   - éµå¾ªESLintè§„èŒƒ
   - ä½¿ç”¨æœ‰æ„ä¹‰çš„å˜é‡å‘½å
   - æ·»åŠ å¿…è¦çš„æ³¨é‡Š
   - ä¿æŒä»£ç ç®€æ´æ¸…æ™°

## å·²çŸ¥é—®é¢˜

1. âš ï¸ éƒ¨åˆ†å›¾è¡¨æ•°æ®å¯èƒ½éœ€è¦åç«¯æ¥å£å®Œå–„
2. âš ï¸ æŸäº›é«˜çº§ç­›é€‰åŠŸèƒ½å°šæœªå®ç°
3. âš ï¸ æ‰¹é‡æ“ä½œåŠŸèƒ½éœ€è¦æ·»åŠ 

## ä¸‹ä¸€æ­¥è®¡åˆ’

1. **çŸ­æœŸè®¡åˆ’**
   - [ ] å®Œå–„å›¾è¡¨æ•°æ®æ¥å£
   - [ ] æ·»åŠ åŠ è½½éª¨æ¶å±
   - [ ] ä¼˜åŒ–é”™è¯¯æç¤º
   - [ ] æ·»åŠ æ“ä½œæ—¥å¿—

2. **ä¸­æœŸè®¡åˆ’**
   - [ ] å®ç°æ‰¹é‡æ“ä½œ
   - [ ] æ·»åŠ é«˜çº§ç­›é€‰
   - [ ] ä¼˜åŒ–è¡¨æ ¼æ€§èƒ½
   - [ ] æ·»åŠ æ•°æ®å¯¼å‡ºåŠŸèƒ½

3. **é•¿æœŸè®¡åˆ’**
   - [ ] å®ç°ä¸»é¢˜åˆ‡æ¢
   - [ ] æ·»åŠ å›½é™…åŒ–æ”¯æŒ
   - [ ] ä¼˜åŒ–ç§»åŠ¨ç«¯é€‚é…
   - [ ] æ·»åŠ å•å…ƒæµ‹è¯•

---

**æœ€åæ›´æ–°**: 2026-01-26
**ç»´æŠ¤è€…**: AI Assistant
